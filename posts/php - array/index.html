<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="associated array, map, sort, diff, destructure">
    <title>Mảng trong PHP</title>
    <link rel="icon" href="../../images/favicon.png">
    <link rel="stylesheet" href="../../css/style.css">
  </head>
  <body>
    <article>
      <h2>Mảng trong PHP</h2>
      <p>Cũng như bao ngôn ngữ lập trình khác, PHP cũng tồn tại một loại dữ liệu
        được gọi là mảng. Cụ thể hơn mảng là một biến danh sách. Nghĩa là, một
        biến vốn chứa nhiều phần tử. Nó cho phép chúng ta lưu trữ, sắp xếp thứ
        tự và truy cập nhiều giá trị với một tên biến.</p>
      <h3>Định nghĩa mảng trong PHP</h3>
      <p>Chúng ta có cách khai báo mảng như sau:</p>
      <pre>$people = ['Kenny', 'Maria', 'Julia', 'Kenvin'];</pre>
      <p>Như vậy khi gọi giá trị trong mảng ta có:</p>
      <pre>echo $people[2]; // giá trị sẽ cho là Julia</pre>
      <p>Ngoài cách khai báo ở trên chúng ta cũng có thể khai báo bằng cách khác
        như sau:</p>
      <pre>$people[] = 'Kenny';
$people[] = 'Gillian';<br>$people[] = 'Charlene';<br>$people[] = 'Calvin';</pre>
      <p>Chúng ta không cần thêm ký tự vào vì PHP đã tự xử lý cho chúng ta phần
        đó.</p>
      <p>Để thêm một phần tử vào mảng chúng ta cũng có thể sử dụng như sau:</p>
      <pre>$tên_biến[] = 'Jiro';</pre>
      <p>Như vậy nếu chúng ta gọi giá trị <code>echo $people[4]</code> thì giá
        trị sẽ là Jiro. Vì nó được PHP thêm vào sau cùng và ngầm hiểu là giá trị
        tiếp theo.</p>
      <h3>Khái niệm mảng liên kết trong PHP</h3>
      <p>Là các mảng được tạo index bằng các chuỗi, chúng được gọi là các mảng
        liên kết.</p>
      <p>Mảng trong PHP được implement hơi khác các ngôn ngữ khác. Nó là một map
        có thứ tự mà liên kết các giá trị với các key. Các key có thể là các số
        hoặc chuỗi. Khi các key là số, nó như là mảng thông thường ở các ngôn
        ngữ khác. Một phần tử mảng luôn bắt đầu với vị trí là 0. Khi các key là
        chuỗi, nó như là kiểu dữ liệu map ở các ngôn ngữ khác, và thường được
        gọi là mảng liên kết.</p>
      <p>Ví dụ:</p>
      <pre>$person = [<br>    'name' =&gt; 'Kenny',<br>    'job' =&gt; 'Teacher',<br>    'age' =&gt; 45,<br>    'email' =&gt; 'kenny@gmail.com'<br>];</pre>
      <p>Như vậy để truy cập giá trị của mảng trên chúng ta không thể sử dụng
        cách cũ được. Ví dụ, để lấy giá trị của tuổi tôi không thể sử dụng cách
        <code>$person[2]</code>.</p>
      <p>Vì chúng ta đã gán giá trị của index cho một tên gọi khác. Do vậy để
        lấy giá trị của tuổi ta sử dụng như sau: <code>$person['age']</code>.
        Kết quả sẽ cho ra 45.</p>
      <p>Mảng liên kết trong PHP gần giống kiểu dữ liệu dictionary hoặc map
        trong các ngôn ngữ lập trình khác.</p>
      <h3>Chuyển đổi qua lại giữa mảng và xâu</h3>
      <p>Sử dụng hai hàm sau:</p>
      <ul>
        <li>implode($separator, $array)</li>
        <li>explode($separator, $string, $limit)</li>
      </ul>
      <p>Ngoài ra chúng ta còn có các hàm như:</p>
      <ul>
        <li><a href="https://www.w3schools.com/php/func_regex_preg_split.asp" target="_blank">preg_split($pattern,
            $string, $limit, $flags)</a></li>
        <li><a href="https://www.w3schools.com/php/func_string_str_split.asp" target="_blank">str_split($string,
            $length)</a></li>
      </ul>
      <h3>Fill giá trị cho mảng</h3>
      <p>Bạn có thể sử dụng hàm <code>range()</code> để thêm các giá trị cho
        một mảng:</p>
      <p><a href="https://www.w3schools.com/php/func_array_range.asp" target="_blank">range($low,
          $high, $step)</a></p>
      <p>Bạn cũng có thể sử dụng hàm <code>array_fill()</code> để fill một mảng
        chỉ số với một giá trị nào đó. Hoặc sử dụng hàm <code>array_fill_keys()</code>
        để fill một mảng liên kết với một giá trị nào đó và cho phép bạn chỉ
        định key sử dụng.</p>
      <p><a href="https://www.w3schools.com/php/func_array_fill.asp" target="_blank">array_fill($index,
          $number, $value)</a></p>
      <p><a href="https://www.w3schools.com/php/func_array_fill_keys.asp" target="_blank">array_fill_keys($keys,
          $value)</a></p>
      <h3>Thêm / bỏ giá trị</h3>
      <p>Chúng ta có thể thêm / bỏ giá trị của mảng ở đầu hoặc cuối mảng bằng
        các hàm sau:</p>
      <p><code>array_push()</code>: Thêm một hoặc nhiều phần tử vào cuối của
        mảng.</p>
      <p><code>array_pop()</code>: Xóa phần tử cuối cùng khỏi mảng.</p>
      <p><code>array_unshift()</code>: Thêm một hoặc nhiều phần tử vào đầu của
        mảng.</p>
      <p><code>array_shift()</code>: Xóa phần tử đầu tiên khỏi mảng và trả về
        phần tử bị xóa.</p>
      <h3>So sánh các mảng</h3>
      <h4>Sự khác nhau</h4>
      <p>Bạn có thể so sánh các mảng bằng các hàm sau:</p>
      <p><a href="https://www.w3schools.com/php/func_array_diff.asp" target="_blank">array_diff($array1,
          $array2, $array3, ...)</a>: So sánh các mảng và trả về các giá trị
        khác nhau. Chỉ so sánh <strong>giá trị</strong>.</p>
      <p><a href="https://www.w3schools.com/php/func_array_diff_key.asp" target="_blank">array_diff_key($array1,
          $array2, $array3, ...)</a>: So sánh các mảng và trả về sự khác nhau.
        Chỉ so sánh <strong>key</strong>.</p>
      <p><a href="https://www.w3schools.com/php/func_array_diff_assoc.asp" target="_blank">array_diff_assoc($array1,
          $array2, $array3, ...)</a>: So sánh các mảng và trả về các giá trị
        khác nhau. So sánh <strong>key</strong> và <strong>giá trị</strong>.</p>
      <p>---</p>
      <p><a href="https://www.w3schools.com/php/func_array_udiff.asp" target="_blank">array_udiff($array1,
          $array2, $array3, ..., $myFunction)</a>: So sánh các mảng và trả về
        các giá trị khác nhau. Chỉ so sánh <strong>giá trị</strong>, sử dụng
        hàm của người dùng định nghĩa.</p>
      <p><a href="https://www.w3schools.com/php/func_array_diff_ukey.asp" target="_blank">array_diff_ukey($array1,
          $array2, $array3, ..., $myKeyFunction)</a>: So sánh các mảng và trả về
        sự khác nhau. Chỉ so sánh key, sử dụng hàm do người dùng định nghĩa.</p>
      <p><a href="https://www.w3schools.com/php/func_array_udiff_assoc.asp" target="_blank">array_udiff_assoc($array1,
          $array2, $array3, ..., $myFunction)</a>: So sánh các mảng và trả về sự
        khác nhau. So sánh <strong>key</strong> và <strong>giá trị</strong>,
        sử dụng hàm <strong>giá trị</strong> do người dùng định nghĩa.</p>
      <p><a href="https://www.w3schools.com/php/func_array_diff_uassoc.asp" target="_blank">array_diff_uassoc($array1,
          $array2, $array3, ..., $myKeyFunction)</a>: So sánh mảng và trả về sự
        khác nhau. So sánh <strong>key</strong> và <strong>giá trị</strong>,
        sử dụng hàm so sánh <strong>key</strong> do người dùng định nghĩa.</p>
      <p><a href="https://www.w3schools.com/php/func_array_udiff_uassoc.asp" target="_blank">array_udiff_uassoc($array1,
          $array2, $array3, ..., $myKeyFunction, $myValueFunction)</a>: So sánh
        các mảng và trả về sự khác nhau. So sánh <strong>key</strong> và <strong>giá
          trị</strong>, sử dụng <strong>hai hàm</strong> so sánh <strong>key</strong>
        và <strong>giá trị</strong> do người dùng định nghĩa.</p>
      <h4>Sự giống nhau</h4>
      <p>Để lấy ra sự giống nhau chúng ta sử dụng các hàm intersect.</p>
      <p>array_intersect(): Compare arrays, and returns the matches (compare
        values only).</p>
      <p>array_intersect_key(): Compare arrays, and returns the matches (compare
        keys only).</p>
      <p>array_intersect_assoc(): Compare arrays and returns the matches
        (compare keys and values).</p>
      <p>---</p>
      <p>array_uintersect(): Compare arrays, and returns the matches (compare
        values only, using a user-defined key comparison function).</p>
      <p>array_intersect_ukey(): Compare arrays, and returns the matches
        (compare keys only, using a user-defined key comparison function).</p>
      <p>array_uintersect_assoc(): Compare arrays, and returns the matches
        (compare keys and values, using a built-in function to compare the keys
        and a user-defined function to compare the values).</p>
      <p>array_intersect_uassoc(): Compare arrays, and returns the matches
        (compare keys and values, using a user-defined key comparison function).</p>
      <p>array_uintersect_uassoc(): Compare arrays, and returns the matches
        (compare keys and values, using two user-defined key comparison
        functions).</p>
      <h3>Kết hợp các mảng</h3>
      <p>combine_array($keys, $values)</p>
      <p>array_replace($array1, $array2, ...)</p>
      <p>array_merge($array1, $array2, ...): array: </p>
      <p>array_combine(): Creates an array by using the elements from one "keys"
        array and one "values" array.</p>
      <p>array_merge(): Merges one or more arrays into one array.</p>
      <p>array_merge_recursive(): Merges one or more arrays into one array
        recursively.</p>
      <p>array_replace(): Replaces the values of the first array with the values
        from following arrays.</p>
      <p>array_replace_recursive(): Replaces the values of the first array with
        the values from following arrays recursively.</p>
      <h3>Tách mảng</h3>
      <p>array_chunk(): Tách mảng thành các mảng con.</p>
      <p>array_column(): Returns the values from a single column in the input
        array.</p>
      <p>array_slice(): Returns selected parts of an array.</p>
      <p>array_splice(): Removes and replaces specified elements of an array.</p>
      <p>array_rand(): Returns one or more random keys from an array.</p>
      <p>extract(): TODO.</p>
      <h3>Cú pháp destructure một mảng</h3>
      <p>Chúng ta sử dụng cú pháp <code>list()</code> để gán các giá trị của
        một mảng vào các biến. Ví dụ:</p>
      <pre>$array = ['one', 'two', 'three'];
list($a, $b, $c) = $array;<br>// [$a, $b, $c] = $array;
echo $a . PHP_EOL; // one
echo $b . PHP_EOL; // two
echo $c . PHP_EOL; //three</pre>
      <p>Ở PHP 8 bạn cũng có thể sử dụng cú pháp <code>[]</code>.</p>
      <h3>Tính toán với mảng</h3>
      <p>array_count_values(): Counts all the values of an array.</p>
      <p>array_sum(): Trả về tổng của các giá trị trong một mảng.</p>
      <p>array_product(): Calculates the product of the values in an array.</p>
      <p>count(): Trả về số phần tử trong mảng.</p>
      <p>sizeof(): Alias của hàm <code>count()</code>.</p>
      <h3>Phép lặp trong mảng</h3>
      <h4>for</h4>
      <p>Chúng ta sử dụng hàm <code>count()</code> để lấy về số phần tử của
        mảng.</p>
      <p>Chúng ta có thể lặp các phần tử trong mảng bằng cú pháp <code>for</code>
        bình thường như sau:</p>
      <pre>$cars = ['Volvo', 'BMW', 'Toyota'];
$arrLength = count($cars);

for ($x = 0; $x &lt; $arrLength; $x++) {
    echo $cars[$x];
    echo "\n";
}</pre>
      <h4>foreach</h4>
      <p>Chúng ta cũng có thể lặp bằng cú pháp <code>foreach</code> như sau:</p>
      <pre>foreach ($array as $e) {<br>    // Hành động<br>}</pre>
      <p>Trong đó <code>$array</code> là mảng mà ta muốn thực thi việc lặp dữ
        liệu, và <code>$e</code> là một biến trong đó ta sẽ tạm thời lưu trữ
        mỗi phần tử.</p>
      <p>Lặp lại qua một mảng kết hợp bằng cú pháp <code>foreach</code> như
        sau:</p>
      <pre>foreach ($array as $key =&gt; $value) {<br>    // Hành động<br>}</pre>
      <p>Trong đó <code>$array</code> là mảng mà ta muốn thực thi việc lặp dữ
        liệu, <code>$key</code> là một biến vốn tạm thời chứa mỗi khóa, và <code>$value</code>
        là một biến vốn tạm thời chứa mỗi giá trị.</p>
      <h4>Sử dụng cursor</h4>
      <p>reset(): Sets the internal pointer of an array to its first element</p>
      <p>end(): Sets the internal pointer of an array to its last element</p>
      <p>next(): Advance the internal array pointer of an array</p>
      <p>prev(): Rewinds the internal array pointer.</p>
      <p>current(): Trả về phần tử hiện tại trong một mảng.</p>
      <p>pos(): Alias của hàm current().</p>
      <p>key(): Fetches a key from an array.</p>
      <p>each(): Deprecated from PHP 7.2. Returns the current key and value pair
        from an array.</p>
      <h4>Hàm array_walk</h4>
      <p>array_walk(): Applies a user function to every member of an array.</p>
      <p>array_walk_recursive(): Applies a user function recursively to every
        member of an array.</p>
      <h3>Sắp xếp mảng</h3>
      <p>sort(): Sắp xếp mảng chỉ số theo thứ tự tăng dần.</p>
      <p>rsort(): Sắp xếp mảng chỉ số theo thứ tự giảm dần.</p>
      <p>asort(): Sắp xếp mảng liên kết theo thứ tự tăng dần của giá trị.</p>
      <p>arsort(): Sắp xếp mảng liên kết theo thứ tự giảm dần của giá trị.</p>
      <p>ksort(): Sắp xếp mảng liên kết theo thứ tự tăng dần của key.</p>
      <p>krsort(): Sắp xếp mảng liên kết theo thứ tự giảm dần của key.</p>
      <p>usort(): Sắp xếp mảng sử dụng một hàm so sánh do người dùng định nghĩa.</p>
      <p>uasort(): Sắp xếp một mảng theo giá trị sử dụng hàm so sánh do người
        dùng định nghĩa.</p>
      <p>uksort(): Sắp xếp một mảng theo key sử dụng hàm so sánh do người dùng
        định nghĩa.</p>
      <p>natsort(): Sắp xếp một mảng sử dụng thuật toán "thứ tự tự nhiên". Tương
        tự hàm strnatcmp.</p>
      <p>natcasesort(): Sắp xếp một mảng sử dụng thuật toán "thứ tự tự nhiên",
        không phân biệt chữ hoa chữ thường. Tương tự hàm strnatcasecmp.</p>
      <p>shuffle(): Trộn thứ tự một mảng.</p>
      <p>array_multisort(): Sorts multiple or multi-dimensional arrays.</p>
      <h3>Các hàm hỗ trợ khác</h3>
      <p>Có rất nhiều hàm sẵn của PHP để thao tác với mảng. Trước khi thao tác
        gì với mảng hãy cân nhắc xem đã có hàm sẵn nào hỗ trợ hay chưa. Các hàm
        sẵn giúp code viết gọn hơn và cũng thực thi nhanh hơn.</p>
      <div class="out-of-box">
        <table class="table table-bordered">
          <tbody>
            <tr>
              <th style="width: 240px">Hàm</th>
              <th>Mô tả</th>
            </tr>
            <tr>
              <td><code>array()</code></td>
              <td>Tạo một mảng.</td>
            </tr>
            <tr>
              <td><code>array_change_key_case()</code></td>
              <td>Đổi tất cả các key trong mảng thành chữ hoa hoặc chữ thường.</td>
            </tr>
            <tr>
              <td><code>array_filter()</code></td>
              <td>Filters the values of an array using a callback function</td>
            </tr>
            <tr>
              <td><code>array_flip()</code></td>
              <td>Flips/Exchanges all keys with their associated values in an
                array</td>
            </tr>
            <tr>
              <td><code>array_key_exists()</code></td>
              <td>Checks if the specified key exists in the array</td>
            </tr>
            <tr>
              <td><code>array_keys()</code></td>
              <td>Returns all the keys of an array</td>
            </tr>
            <tr>
              <td><code>array_map()</code></td>
              <td>Sends each value of an array to a user-made function, which
                returns new values</td>
            </tr>
            <tr>
              <td><code>array_pad()</code></td>
              <td>Inserts a specified number of items, with a specified value,
                to an array</td>
            </tr>
            <tr>
              <td><code>array_reduce()</code></td>
              <td>Returns an array as a string, using a user-defined function</td>
            </tr>
            <tr>
              <td><code>array_reverse()</code></td>
              <td>Returns an array in the reverse order</td>
            </tr>
            <tr>
              <td><code>array_search()</code></td>
              <td>Searches an array for a given value and returns the key</td>
            </tr>
            <tr>
              <td><code>array_unique()</code></td>
              <td>Removes duplicate values from an array</td>
            </tr>
            <tr>
              <td><code>array_values()</code></td>
              <td>Returns all the values of an array</td>
            </tr>
            <tr>
              <td><code>compact()</code></td>
              <td>Tạo một mảng liên kết gồm các biến và giá trị của chúng.</td>
            </tr>
            <tr>
              <td><code>extract()</code></td>
              <td>Imports variables into the current symbol table from an array</td>
            </tr>
            <tr>
              <td><code>in_array()</code></td>
              <td>Kiểm tra nếu một giá trị tồn tại trong một mảng.</td>
            </tr>
            <tr>
              <td><code>list()</code></td>
              <td>Gán giá trị các biến nếu chúng là một mảng.</td>
            </tr>
            <tr>
              <td><code>range()</code></td>
              <td>Creates an array containing a range of elements</td>
            </tr>
          </tbody>
        </table>
      </div>
      <h4>Hàm tìm phần tử có tồn tại trong mảng hay không</h4>
      <p>Cú pháp:</p>
      <pre>in_array($gia_tri_tim, $mang);</pre>
      <h3>Class ArrayObject</h3>
      <p>Chuyển từ mảng liên kết sang dạng đối tượng.</p>
      <h3>Tham khảo</h3>
      <p><a href="https://www.toptal.com/php/10-most-common-mistakes-php-programmers-make"
          target="_blank">The List of the 10 Most Common Mistakes That PHP
          Developers Make | Toptal</a></p>
      <p><br>
      </p>
      <p><br>
      </p>
    </article>
    <script src="../../js/docs.js"></script>
  </body>
</html>
