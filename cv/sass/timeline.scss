$bgColor: #E06950;

$LARGE_SCREEN_WIDTH: 1200px;

@mixin largeScreen {
    @media (min-width: #{$LARGE_SCREEN_WIDTH}) {
        @content;
    }
}



.timeline {
    /* Đường thẳng dọc */
    &::after {
        content: "";
        position: absolute;
        width: 4px;
        background-color: rgba(71, 77, 93, 0.95);
        top: 0;
        bottom: 0;
        left: 31px;
        margin-left: -2px;

        @include largeScreen {
            left: 50%;
        }
    }

    /* Bao nội dung */
    .timeline-container {
        position: relative;
        width: 100%;
        padding: 10px 25px 10px 70px;

        @include largeScreen {
            width: 50%;
        }

        /* Vòng tròn ở đường thẳng dọc */
        &::after {
            content: "";
            position: absolute;
            width: 16px;
            height: 16px;
            left: 23px;
            top: 32px;
            background-color: #FFF;
            border: 4px solid #fc5c65;
            border-radius: 50%;
            z-index: 1;
        }

        /* Nội dung */
        .content {
            padding: 20px 30px;
            background-color: transparent;
            border: 2px solid $bgColor;
            position: relative;
            border-radius: 6px;
            // Đang hiển thị lỗi trên mobile
            // box-shadow: 0 3px 0 #d7e4ed;

            img {
                width: 64px;
                display: block;
                margin-bottom: 5px;
            }

            /* Tất cả các mũi tên trỏ sang trái */
            &::before {
                content: " ";
                height: 0;
                position: absolute;
                top: 22px;
                width: 0;
                z-index: 1;
                border: medium solid $bgColor;
                right: 100%;
                border-width: 10px 10px 10px 0;
                border-color: transparent $bgColor transparent transparent;
            }
        }
    }

    @include largeScreen {
        .timeline-container:nth-child(even) {
            left: 0;
            padding: 10px 40px 10px 0;

            /* Mũi trên trỏ sang bên phải */
            .content {
                &::before {
                    left: 100%;
                    right: unset;
                    border-width: 10px 0 10px 10px;
                    border-color: transparent transparent transparent $bgColor;
                }
            }
    
            /* Điều chỉnh lại vòng tròn của vùng bao bên trái */
            &::after {
                left: unset;
                right: -8px; // Một nửa chiều rộng
            }
        }

        .timeline-container:nth-child(odd) {
            left: 50%;
            padding: 10px 0 10px 40px;

            /* Mũi trên trỏ sang bên trái */
            .content {
                &::before {
                    border-width: 10px 10px 10px 0;
                    border-color: transparent $bgColor transparent transparent;
                }
            }

            /* Điều chỉnh lại vòng tròn của vùng bao bên phải */
            &::after {
                left: -8px; // Một nửa chiều rộng
            }
        }
    }    
}



.timeline-container {
    &.is-hidden {
        visibility: hidden;
    }

    &.bounce-in {
        &::after {
            animation: cd-bounce-1 0.6s;
        }

        .content {
            animation: cd-bounce-2 .6s;
        }

        &:nth-child(even) {
            .content {
                @include largeScreen {
                    animation: cd-bounce-2-inverse .6s;
                }
            }
        }
    }
}



@keyframes cd-bounce-1 {
	0% {
		opacity: 0;
		transform: scale(.5);
	}

	60% {
		opacity: 1;
		transform: scale(1.2);
	}

	100% {
		transform: scale(1);
	}
}

@keyframes cd-bounce-2 {
	0% {
		opacity: 0;
		transform: translateX(-50px);
	}

	60% {
		opacity: 1;
		transform: translateX(10px);
	}

	100% {
		transform: translateX(0);
	}
}

@keyframes cd-bounce-2-inverse {
	0% {
		opacity: 0;
		transform: translateX(50px);
	}

	60% {
		opacity: 1;
		transform: translateX(-10px);
	}

	100% {
		transform: translateX(0);
	}
}
