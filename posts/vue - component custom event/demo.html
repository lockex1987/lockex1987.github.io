<!doctype html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo custom event</title>

    <link rel="icon" href="../../images/favicon.png">
    <link rel="stylesheet" href="../../css/style.css">
</head>

<body>
    <article>
        <h2>Demo custom event</h2>
		
		<h3>Tên event</h3>
		<p>Không nên dùng camelCase, lowercase. Luôn nên dùng kebab-case.</p>

        <div id="event-name-demo"
				class="border p-2 mb-3">
            <div>
                <blog-post
						:post.sync="post1"
						@enlarge-text="processEventKebabCase"
						@enlargeText="processEventCamelCase"
						@enlargetext="processEventLowerCase">
                </blog-post>
            </div>
			
			<base-checkbox
					v-model="lovingVue"></base-checkbox>
			<div>
				{{lovingVue}}
			</div>
			
			<div>
				<blog-post
						:post="post2"
						@update:post="post2 = $event">
				</blog-post>
			</div>
			
			<div>
				{{post1}}
			</div>
			
			<div>
				{{post2}}
			</div>
        </div>

        
    </article>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>


<script>
const BlogPost = {
    template: `
			<div>
				<p><strong>{{post.title}}</strong></p>
				<div class="mb-3">
					<button @click="notifyParent()"
							class="btn btn-primary">
						Phóng to
					</button>
				</div>
				
				<div class="mb-3">
					<button @click="updateFromChild()"
							class="btn btn-secondary">
						Cập nhật
					</button>
				</div>
			</div>`,
			
	props: [
		'post'
	],
	
	methods: {
		notifyParent() {
			this.$emit('enlarge-text', 1);
			this.$emit('enlargeText', 2);
		},
		
		updateFromChild() {
			const obj = {
				...this.post
			};
			obj.title += ' (updated)';
			this.$emit('update:post', obj);
		}
	}
};

Vue.component('base-checkbox', {
	template: `
		<input type="checkbox"
				:checked="checked"
				@change="$emit('change', $event.target.checked)"/>`,

	model: {
		prop: 'checked',
		event: 'change'
	},

	props: {
		checked: Boolean
	}
});

new Vue({
	el: '#event-name-demo',
	
	components: {
		BlogPost
	},

	data() {
		return {
			post1: {
				id: 1,
				title: 'Giới thiệu về Vue'
			},
			post2: {
				id: 2,
				title: 'Các khái niệm trong Vue'
			},
			lovingVue: true
		};
	},
	
	methods: {
		processEventCamelCase(eventValue) {
			console.log('Catch event camel case: ' + eventValue);
		},
		
		processEventKebabCase(eventValue) {
			console.log('Catch event kebab case: ' + eventValue);
		},
		
		processEventLowerCase(eventValue) {
			console.log('Catch event lower case: ' + eventValue);
		}
	}
});
</script>


    <script src="../../js/docs.js"></script>
</body>

</html>