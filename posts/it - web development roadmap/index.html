<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="date" content="2020-02-18 22:48:00">
    <meta name="description" content="From zero to deployment. Tập trung tìm hiểu những cái ở đây, không lan man những cái khác. Solve problems use programming language (tool). Không chạy theo language, framework.">
    <title>Web development roadmap</title>
    <link rel="icon" href="../../images/favicon.png">
    <link rel="stylesheet" href="../../css/style.css">
  </head>
  <body>
    <article>
      <h2>Web development roadmap</h2>
      <p>From zero to deployment.</p>
      <p>Bài viết này mô tả các bước để phát triển một ứng dụng web, các tính
        năng thường gặp.</p>
      <h3>Setup môi trường dev</h3>
      <p>Gồm các bước:</p>
      <ul>
        <li><a href="../it%20-%20install%20os%20and%20softwares/">Cài đặt máy
            tính, phần mềm</a></li>
        <li><a href="../linux%20-%20install%20php/index.html">Cài đặt PHP</a></li>
        <li><a href="../linux%20-%20install%20nginx/index.html">Cài đặt nginx</a>
          và <a href="../linux%20-%20run%20php%20with%20nginx/index.html">Chạy
            PHP với nginx</a></li>
        <li><a href="../linux%20-%20install%20node/index.html">Cài đặt Node</a></li>
        <li><a href="../linux%20-%20install%20mysql/index.html">Cài đặt MySQL</a></li>
        <li><a href="../redis%20-%20installation/index.html">Cài đặt Redis</a></li>
        <li><a href="../it%20-%20visual%20studio%20code/">Sử dụng VSCode</a></li>
      </ul>
      <h3>Phát triển các ứng dụng</h3>
      <p>Có mô tả, ảnh minh họa các chức năng.</p>
      <p><a href="../laravel%20-%20installation/">Setup project Laravel mới</a></p>
      <h4>sso-passport</h4>
      <p>Ứng dụng này sử dụng để quản lý đăng nhập tập trung của người dùng.</p>
      <h5>Đăng ký</h5>
      <figure><img src="images/features/register.png" alt=""></figure>
      <p>Chức năng này gồm một form để người dùng nhập thông tin của mình. Khi
        người dùng nhấn submit, hệ thống sẽ lưu thông tin vào bảng <code>register_user</code>
        (chưa lưu vào bảng <code>user</code> luôn), sau đó tạo một token ngẫu
        nhiên có thời điểm hết hạn và gửi cho người dùng qua email. Hệ thống
        thông báo thành công và người dùng hãy kiểm tra email.</p>
      <h5>Xác nhận mail đăng ký</h5>
      <p>Người dùng click vào link chứa token trong email và sẽ được đưa tới một
        trang. Tại trang đó, hệ thống sẽ kiểm tra token đã hết hạn hay chưa, có
        liên kết với thông tin đăng ký nào không (bảng <code>register_user</code>).
        Nếu các thông tin đều hợp lệ, hệ thống sẽ tạo bản ghi <code>user</code>
        từ bản ghi <code>register_user</code>. Sau đó người dùng sẽ được chuyển
        đến trang chủ luôn.</p>
      <h5>Đăng nhập, đăng xuất</h5>
      <p>Link tham khảo: <a href="../laravel%20-%20authentication/">Đăng nhập,
          đăng xuất trong Laravel</a></p>
      <p>Có throttle</p>
      <p>Tập trung SSO</p>
      <p><a href="../laravel%20-%20authentication/" target="_blank">Xác thực với
          Laravel</a></p>
      <p><a href="../laravel%20-%20two-factor%20authentication/" target="_blank">Xác
          thực 2 lớp với Laravel</a></p>
      <p><a href="../laravel%20-%20mail/" target="_blank">Gửi mail với Laravel</a></p>
      <p><a href="../php%20-%20mail/" target="_blank">Gửi và đọc mail với PHP</a></p>
      <h5>Xác thực 2 lớp</h5>
      <p><a href="../laravel%20-%20two-factor%20authentication/">Xác thực 2 lớp</a></p>
      <h5>Đổi thông tin</h5>
      <p>Cho phép người dùng cập nhật các thông tin như tên, email, số điện
        thoại, avatar.</p>
      <p>Avatar lưu ở trong DB, để có thể backup và migrate thuận tiện.</p>
      <h5>Đổi mật khẩu</h5>
      <p>Chú ý validate. </p>
      <h5>Lịch sử đăng nhập</h5>
      <p>Parse user agent để lấy thông tin trình duyệt và hệ điều hành. Ngoài ra
        còn lưu thông tin IP và thời gian đăng nhập.</p>
      <figure><img src="images/features/login-logs.png"></figure>
      <h5>Danh sách các ứng dụng</h5>
      <p>Hiện thị danh sách các ứng dụng mà người dùng được phân quyền.</p>
      <figure><img src="images/features/user-apps.png" alt=""></figure>
      <h5>Quên mật khẩu</h5>
      <p>Giới hạn số lần thao tác tối đa trong một ngày</p>
      <p>Email đổi mật khẩu thành công</p>
      <p>Giới hạn số lần đổi tối đa trong một ngày</p>
      <h5>Đăng ký qua Facebook, Google</h5>
      <p>TODO</p>
      <h4>sso-admin</h4>
      <p>Tập hợp các chức năng hay làm, không mất công làm lại các bài toán cũ.</p>
      <h5>Đăng nhập</h5>
      <p>Đăng nhập qua <strong>sso-passport</strong> (người dùng phải được gán
        cho ứng dụng <strong>sso-admin</strong>).</p>
      <h5>Quản lý người dùng</h5>
      <p>Gồm các chức năng:</p>
      <ul>
        <li>Thêm, sửa, xóa</li>
        <li>Khóa - mở khóa</li>
        <li>Gán vai trò</li>
        <li>Gán ứng dụng</li>
        <li>Export</li>
        <li>View as (impersonate): đăng nhập với tài khoản người khác</li>
      </ul>
      <p>IMG</p>
      <h5>Quản lý ứng dụng</h5>
      <p>Thêm, sửa, xóa ứng dụng.</p>
      <p>TODO: secret của ứng dụng, để gọi API từ ứng dụng, tự generate secret</p>
      <h5>Gán ứng dụng cho người dùng</h5>
      <p>IMG</p>
      <h5>Quản lý quyền</h5>
      <p>Thêm, sửa, xóa.</p>
      <p>Mã quyền nên có dạng "&lt;subject&gt;.&lt;action&gt;".</p>
      <p>Tên quyền nên có dạng "&lt;Hành động&gt; &lt;đối tượng&gt;".</p>
      <h5>Quản lý vai trò</h5>
      <p>Thêm, sửa, xóa.</p>
      <h5>Kiểm tra quyền</h5>
      <p>Với từng thao tác</p>
      <p>Làm giống TTCD.</p>
      <h5>Kiểm tra đăng nhập</h5>
      <p>Middleware</p>
      <h5>Danh mục dùng chung</h5>
      <p>(tham khảo Voyage)</p>
      <p>Quốc gia, thể loại phim (dùng để quản lý movie)</p>
      <h5>Tham số hệ thống</h5>
      <p>Động (thêm, sửa, xóa)</p>
      <h5>Cấu hình</h5>
      <p>Múi giờ Việt Nam (lưu DB không bị lệch với trường timestamp)</p>
      <p>Thiết lập <code>'timezone' =&gt; 'Asia/Ho_Chi_Minh'</code> ở file <code>config/app.php</code>,
        mặc định đang là <code>UTC</code></p>
      <p>i18n: tiếng Việt (các thông báo lỗi validate)</p>
      <h5>Tổ chức</h5>
      <p>(dữ liệu dạng cây) </p>
      <p>Ở form người dùng có chọn tổ chức</p>
      <h5>Quản lý nội dung </h5>
      <p>Dùng editor Summernote</p>
      <p>HTML purify chống lỗi XSS</p>
      <p>Nội dung chứa ảnh</p>
      <h5>Upload đính kèm file</h5>
      <p>Upload sửa avatar ở sso-passport.</p>
      <p>Giới hạn dung lượng</p>
      <p>Giới hạn định dạng file</p>
      <p>TODO: file service, CDN, có HA</p>
      <h5>Lưu tác động của người dùng</h5>
      <p>Log tác động</p>
      <p>Response log</p>
      <h5>Logging</h5>
      <p>Cấu hình log Laravel theo ngày, tách log lỗi ra file riêng, đẩy log lỗi
        vào DB, liệt kê và download file log</p>
      <p>Log service: Xem log ở các server có load balancer (không biết lỗi ở
        server nào), cảnh báo log lỗi</p>
      <p>Xem log lỗi nginx</p>
      <p>Log lỗi hệ thống đẩy vào DB, có chức năng view
        (https://laravel.com/docs/master/errors)</p>
      <h5>Components demo</h5>
      <p>Week picker</p>
      <p>Month picker</p>
      <p>Year picker</p>
      <h5>Web Socket chat</h5>
      <p>TODO:</p>
      <ul>
        <li>Avatar</li>
        <li>Emoticon, formated HTML (strong, emphasize, underline, font-family,
          font-size)</li>
        <li>buzzes and image posting</li>
        <li>Offline message</li>
        <li>Send file (drag and drop, progress bar)</li>
        <li>Group chat</li>
        <li>Clear message</li>
        <li>compress data bandwidth</li>
        <li>Tham khảo: <a href="https://github.com/wayou/HiChat" target="_blank">github.com/wayou/HiChat</a></li>
        <li>Dạng service để nhúng như Subiz</li>
      </ul>
      <h5>WebRTC</h5>
      <ul>
        <li>Text chat</li>
        <li>Stream (share screen, audio chat, video chat)</li>
        <li>Send file</li>
      </ul>
      <h5>Notification</h5>
      <p>TODO: Notification dạng hệ thống, k phải là noti.info</p>
      <p>TODO: Khi đánh dấu đã đọc thì cập nhật lại số thông báo mới</p>
      <h5>Import Excel</h5>
      <p>Ví dụ chức năng</p>
      <h5>Export Excel</h5>
      <p>Ví dụ chức năng </p>
      <h5>Mail</h5>
      <p>Mail cảnh báo hoạt động</p>
      <p>Mail truyền thông</p>
      <p>Mail báo cáo tuần, báo cáo ngày</p>
      <p>Mail service: Gửi mail tập trung, gọi REST POST với các tham số (app,
        secret, to, title, body)</p>
      <p>Facebook message bot gửi báo cáo hàng ngày</p>
      <h5>Ứng dụng thật</h5>
      <p>Quản lý movie</p>
      <p>Quản lý truyện tranh</p>
      <p>Quản lý sách</p>
      <p>Quản lý post (bài viết, kiến thức)</p>
      <p>English common words</p>
      <p>My family (có DB)</p>
      <h5>Monitor service</h5>
      <p>Ứng dụng alive; định kỳ đọc log lỗi, nếu có thì cảnh báo</p>
      <h5>ElasticSearch</h5>
      <p>Tìm kiếm dữ liệu lớn (khách hàng Viettel)</p>
      <p>Tìm kiếm dữ liệu post</p>
      <h5>PWA</h5>
      <p>Push notification.</p>
      <h4>landing-page</h4>
      <p>Dạng server render (không phải SPA), hỗ trợ SEO.</p>
      <p>Đối tượng hướng tới là doanh nghiệp nhỏ.</p>
      <h5>Trang landing page</h5>
      <p>Giới thiệu thông tin chung, liên hệ, đội ngũ, bản đồ địa chỉ</p>
      <p>Chuyên môn, ảnh sản phẩm</p>
      <p>Link chat với chúng tôi (FB Messenger)</p>
      <p>Link tin tức</p>
      <p>Link đăng nhập (sso-admin)</p>
      <h5>Trang danh sách tin tức </h5>
      <p>Có phân trang</p>
      <h5>Trang chi tiết tin tức</h5>
      <p>Các bài liên quan</p>
      <p>FB comment</p>
      <p>Dùng Share API để share link</p>
      <h5>Tính năng comment</h5>
      <p>Lấy danh sách (sắp xếp: mới nhất, cũ nhất, phổ biến)</p>
      <p>Thêm comment (HTML)</p>
      <p>Trả lời (comment lồng nhau)</p>
      <p>Sửa comment</p>
      <p>Xóa comment</p>
      <p>Phê duyệt comment</p>
      <p>Có thông báo</p>
      <p>Giới hạn comment dài quá, comment dài quá thì có nút xem thêm</p>
      <p>Like (bình chọn) comment</p>
      <p>Thêm đính kèm (thêm ảnh, video)</p>
      <p>Hash tag</p>
      <p>Pinging user (@ người dùng)</p>
      <h4>websocket-server</h4>
      <p>Điều hướng chat</p>
      <p>Điều hướng WebRTC</p>
      <p>Chat</p>
      <p>Notification thông báo mới</p>
      <h3>Setup môi trường deploy</h3>
      <p>Chúng ta cũng cần cài Ubuntu, PHP, Nginx, Redis, MySQL, Node như môi
        trường dev.</p>
      <p><a href="../it%20-%20virtualbox/index.html">Hướng dẫn sử dụng
          VirtualBox</a></p>
      <p><a href="../linux%20-%20install%20ubuntu%20server/index.html">Cài đặt
          Ubuntu server</a></p>
      <p><a href="../linux%20-%20ssh/index.html">Sử dụng SSH để kểt nối đến
          server</a></p>
      <p><a href="../linux%20-%20install%20glusterfs/index.html">Cài đặt
          GlusterFS</a></p>
      <h4>Mục tiêu</h4>
      <p>Tôi muốn xây dựng cho mình một môi trường lab để thực hành về mạng cũng
        như việc deploy các ứng dụng web.</p>
      <p>Tôi sẽ cài đặt hai server Ubuntu 18.04. Phần mềm sử dụng là VirtualBox.
        Các máy ảo có RAM 1024 MB và ổ cứng 10 GB.</p>
      <p>Thông tin server 1:</p>
      <ul>
        <li>Tên máy ảo: Ubuntu-Server-1</li>
        <li>Tên đầy đủ người dùng: Admin 1</li>
        <li>Tên server: ubuntu1</li>
        <li>Username: admin1</li>
        <li>Password: abc123a@</li>
        <li>IP: 192.168.1.116</li>
      </ul>
      <p>Thông tin server 2:</p>
      <ul>
        <li>Tên máy ảo: Ubuntu-Server-2</li>
        <li>Tên đầy đủ người dùng: Admin 2</li>
        <li>Tên server: ubuntu2</li>
        <li>Username: admin2</li>
        <li>Password: abc123a@</li>
        <li>IP: 192.168.1.174</li>
      </ul>
      <p>Thông tin server 3:</p>
      <ul>
        <li>Tên máy ảo: Ubuntu-Server-3</li>
        <li>Tên đầy đủ người dùng: Admin 3</li>
        <li>Tên server: ubuntu3</li>
        <li>Username: admin3</li>
        <li>Password: abc123a@</li>
        <li>IP: 192.168.1.176</li>
        <li>Thông tin truy cập MySQL: huyennv9 / abc123a@</li>
      </ul>
      <p>Máy thật của mình:</p>
      <ul>
        <li>Username: lockex1987</li>
        <li>Password: 123456a@</li>
        <li>IP: 192.168.1.111</li>
      </ul>
      <p>Server 1 và 2 sẽ để cài web. Server 3 sẽ để cài DB.</p>
      <p>Sửa file <code>/etc/hosts</code> để truy cập các server bằng tên cho
        dễ:</p>
      <pre>192.168.1.131   my-ipad.tk
192.168.1.116   ubuntu-server-1.tk
192.168.1.174   ubuntu-server-2.tk
192.168.1.176   ubuntu-server-3.tk
192.168.1.111   real-machine.tk</pre>
      <h4>Cấu hình mạng cho server ở VirtualBox</h4>
      <p>Mặc định cấu hình mạng của máy ảo đang là kiểu NAT.</p>
      <p>Chúng ta hãy thay đổi kiểu mạng là "Bridged Adapter". Khi đó mỗi máy ảo
        sẽ có IP riêng, như một máy độc lập.</p>
      <figure><img src="images/bridged%20adapter.png" alt=""></figure>
      <h3>Triển khai ứng dụng</h3>
      <p>Hướng dẫn cài đặt 2 ứng dụng, khởi tạo DB, cấu hình nginx.</p>
      <p><a href="../laravel%20-%20deploy/">Triển khai ứng dụng Laravel</a></p>
      <p><a href="../it%20-%20check%20application%20alive/">Theo dõi tiến trình
          luôn chạy</a></p>
      <p><a href="../it%20-%20ngrok/">Publish ứng dụng lên internet</a></p>
      <p><a href="../it%20-%20web%20security%20checklist/">Checklist an toàn
          thông tin</a></p>
      <p><a href="../nginx%20-%20load%20balancer/">HA (load balancer)</a></p>
      <p><a href="../it%20-%20config%20web%20https/">Cấu hình HTTPS</a></p>
    </article>
    <script src="../../js/docs.js"></script>
  </body>
</html>
