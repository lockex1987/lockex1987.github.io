<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="date" content="2020-02-24 22:35:00">
    <meta name="description" content="decorator pattern: sort, search, pagination, bootstrap, table, fixed header, fixed column">
    <title>Datatable</title>
    <link rel="icon" href="../../images/favicon.png">
    <link rel="stylesheet" href="../../css/style.css">
  </head>
  <body>
    <article>
      <h2>Datatable</h2>
      <h3> Tính năng</h3>
      <ul>
        <li>Phân trang</li>
        <li>Sử dụng AJAX </li>
        <li>Sử dụng với Vue</li>
        <li>Hiển thị loading</li>
        <li>Sắp xếp theo cột</li>
        <li>Merge header được</li>
        <li>Tìm kiếm theo từ khóa</li>
        <li>Footer summary</li>
        <li>-------------------</li>
        <li>Fixed header, fixed column</li>
        <li>Expandable</li>
        <li>Selectable</li>
        <li>Ẩn hiện cột</li>
      </ul>
      <h3>Hướng dẫn migrate thư viện Datatable sang Pagi</h3>
      <p>Bỏ không sử dụng Datatable nữa, sửa dụng thư viện Pagi thôi.</p>
      <p>Thêm <code>&lt;pagi :callback-func="gotoPage"
          ref="pagi"&gt;&lt;/pagi&gt;</code>. </p>
      <p>Chỗ <code>this.datatable.reload()</code> chuyển thành <del><code>this.gotoPage(1)</code></del>
        <code>this.$refs.pagi.reload()</code> (gọi thế này để có tham số <code>pageSize</code>,
        sortColumn, sortDirection).</p>
      <p>Chỗ <code>showLoading</code> thì thêm một biến <code>isLoading</code>,
        hiển thị spinner như kiểu <code>isProcessing</code> khi thêm mới / cập
        nhật.</p>
      <p>Các tùy chọn <code>ajax</code>, <code>startSearchCallback</code>, <code>finishSearchCallback</code>,
        <code>getTotalAndData</code>, <code>bindItemsCallback</code> sử dụng
        khó, giờ thì chỉ cần dùng tùy chọn <code>callbackFunc</code> là đủ. Chú
        ý trong <code>callbackFunc</code> cần gọi <code>this.$refs.pagi.update(total,
          page)</code>.</p>
      <p>Thay <code>{{dataEle.stt}}</code> bằng <code>{{$refs.pagi.startIndex
          + i + 1}}</code>.</p>
      <p>Chú ý chỗ thẻ <code>&lt;table&gt;</code> cần thêm <code>v-show="items.length
          &gt; 0"</code> để ẩn đi khi không có dữ liệu. Thông báo không có dữ
        liệu nằm trong thẻ <code>&lt;pagi&gt;</code> luôn rồi.</p>
      <ul>
      </ul>
      <h3>Demo</h3>
      <ul>
        <li><a target="_blank" href="demo_1_no_ajax.html">Phân trang, không sử
            dụng AJAX, merge header</a></li>
        <li><a target="_blank" href="demo_4_use_ajax.html">Sử dụng AJAX và
            showLoading, sử dụng với Vue</a></li>
        <li>-------------------</li>
        <li><a target="_blank" href="demo_6_fixed_header.html">Header cố định</a></li>
        <li><a target="_blank" href="demo_7_expandable.html">Expandable</a></li>
        <li><a target="_blank" href="demo_8_selectable.html">Selectable</a></li>
        <li><a target="_blank" href="demo_9_toggle_column.html">Ẩn hiện cột</a></li>
      </ul>
      <h3>Hướng dẫn sử dụng</h3>
      <p>Thêm các file CSS và JS của thư viện:</p>
      <pre>&lt;link rel="stylesheet" href="css/datatable.css"/&gt;
&lt;script src="js/datatable.js"&gt;&lt;/script&gt;</pre>
      <p>Phần phân trang đang theo chuẩn Bootstrap, do đó bạn nên thêm cả CSS
        của Bootstrap:</p>
      <pre class="text-pre-wrap">&lt;link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/&gt;</pre>
      <p>Thư viện không còn ràng buộc nào khác.</p>
      <p>Chúng ta khai báo một table với các header bình thường (bắt buộc có thẻ
        <code>thead</code>), nội dung thì bỏ trống (có thể có thẻ <code>tbody</code>
        hoặc không).</p>
      <p>Với các cột mà có thể sắp xếp, chúng ta thêm thuộc tính <code>data-sort-column</code>
        với giá trị là thuộc tính sắp xếp:</p>
      <pre>&lt;table class="table table-bordered table-striped table-hover"&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt; Stt &lt;/th&gt;
            &lt;th data-sort-column="country"&gt; Quốc gia &lt;/th&gt;
            &lt;th data-sort-column="population"&gt; Dân số &lt;/th&gt;
            &lt;th data-sort-column="fake_date"&gt; Ngày nào đó &lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
<br>    &lt;tbody&gt;<br>
    &lt;/tbody&gt;
&lt;/table&gt;</pre>
      <p>Tiếp đó, chúng ta khởi tạo đối tượng Datatable như sau:</p>
      <pre>const datatable = new Datatable(options);</pre>
    </article>
    <script src="../../js/docs.js"></script>
    
  </body>
</html>
